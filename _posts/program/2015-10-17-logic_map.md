---
layout: post
title: 逻辑地图 和 寻路
categories: [general]
tags: []
---

## 逻辑地图 ##

逻辑地图采用了矩形栅格，但做了一点改动，
3D场景，是将场景中的模型导出为格子，主要想支持类似于剑三那种轻功。
2D场景，仅将行走层导出为格子。
也就是说，和传统的矩形栅格不同点在于，会存在空格子，空格子是不可达的障碍，非空的格子存在高度的区别，以此实现3D逻辑，也就是说，实现上是不区分是2D格子还是3D格子的，都是相同的序列化，移动算法。

矩形栅格的优点在于其容易理解，缺点是体积大（硬盘和内存）。

为什么做了两个版本，因为项目正处于demo阶段，未确定下来究竟是做剑三那种真轻功的3D游戏，还是做2D逻辑地图的游戏，
所以我们一边拿Navmesh+Colider做demo，技术上一边尝试可否将网格直接导出为格子地图。

如果是3D地图，我期望的地图制作方式是，美术制作好场景，然后增加一些透明的面片，挡住一些不能进入的地方，然后运行插件，生成逻辑地图。也可以在将整张场景导出为模型，在3DMax中增加面片，然后再导回Unity，生成逻辑地图，两者的区别是，透明面片是否占用运行时的内存。

如果是2D地图，美术将Navmesh导出为模型，然后在3Dmax中进行一些精修，然后导回Unity，生成逻辑地图。

## 寻路 ##
